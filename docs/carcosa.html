<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Generar Bookmarklet</title> 
    <link rel="stylesheet" href="styles.css">
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        bindDisplayModal();
        bindHideModal();
      });
      
      function bindDisplayModal() {
        document.getElementById("display").addEventListener("click", function () {        
        const popover = document.getElementById("popover");
        const modal = document.getElementById("modal");
        popover.classList.toggle("hidden");
        modal.classList.toggle("hidden");
        console.log("click");
      });
      }

      function bindHideModal() {
        document.getElementById("popover").addEventListener("click", function () {
        const popover = document.getElementById("popover");
        const modal = document.getElementById("modal");
        popover.classList.toggle("hidden");
        modal.classList.toggle("hidden");
      });
      }
    </script>
  </head>
  <body>
    <h1>Marcador de colores amarillos</h1>
    <p>Este marcador resalta los elementos amarillos en la página.</p>
    <p>Arrastra este enlace a tus marcadores para poder ejecutarlo después, <a href="#" id="display">Ver ejemplo</a></p>    
    <div class="box">
      <a href="javascript:(function(){
        var s = document.createElement('script');
        s.src = 'https://manjarcode.github.io/bookmarklet/carcosa.js';
        s.onload = function() {
          console.log('Script cargado y ejecutado');
        };
        document.head.appendChild(s);
      })();">Carcosa</a>
    </div>
    <p>Puedes probarlo en esta misma página:</p>
    <h2 style="color: #ffff33; background: #ecf0f1;">Título amarillo</h2>
    <p style="color: rgb(0, 0, 0); background-color: #ffff88;">
      Solo fondo válido, texto negro (ignorado)
    </p>
    <div style="background: green; color: white;">Caja verde (se ignora)</div>
    <span style="color: #ffff00;">Texto amarillo</span>
    <span style="color: #000000;">Texto negro (ignorado)</span>


    <div id="popover" class="hidden">&nbsp;</div>
    <div id="modal" class="hidden">
      <p>Arrastra este enlace a tus marcadores</p> 
      <img src="carcosa demo.gif" alt="Demo de Carcosa" />
    </div>    
  </body>
</html>
